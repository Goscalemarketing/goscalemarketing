<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Viewer + WebXR</title>

  <script type="module"
    src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
  </script>

  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #0b0b0b;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }
    model-viewer {
      width: 100%;
      height: 100%;
      background: #0b0b0b;
    }
  </style>
</head>

<body>

<model-viewer
  id="mv"
  src="https://pub-83c24afb5cab45db860452e48428fdd5.r2.dev/Restaurante_Cuchara_Vieja/Pastel_Banana_Chip/pastelbananachip.glb"

  camera-controls
  interaction-prompt="none"
  touch-action="pan-y"

  ar
  ar-modes="webxr"
  ar-placement="floor"
  ar-scale="fixed"

  environment-image="neutral"
  tone-mapping="neutral"
  exposure="1.1"
  shadow-intensity="0.2"

  loading="eager"
  reveal="auto"
>
  <button slot="ar-button"
    style="
      position:absolute;
      top:16px;
      right:16px;
      padding:10px 14px;
      border-radius:12px;
      border:0;
      background:white;
      color:black;
      font-weight:700;
      box-shadow:0 8px 20px rgba(0,0,0,.35);
    ">
    Ver en AR
  </button>
</model-viewer>

<script>
  const mv = document.getElementById('mv');

  // ComprobaciÃ³n WebXR (opcional, solo info)
  (async () => {
    if (!navigator.xr) {
      alert('Este navegador no soporta WebXR');
      return;
    }
    const ok = await navigator.xr.isSessionSupported('immersive-ar');
    if (!ok) {
      alert('Este dispositivo NO soporta WebXR AR');
    }
  })();
</script>

</body>
</html>
